{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dropbox\\\\work\\\\dootrix\\\\planets\\\\Planets\\\\Planets.Front\\\\planets\\\\src\\\\Components\\\\App.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Planets from './Planets';\nimport ErrorDialog from \"./Planets/ErrorDialog\";\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePlanetSelected = id => {\n      this.setState(({\n        planets\n      }) => ({\n        selectedPlanet: planets.find(planet => planet.id === id),\n        editingPlanet: false\n      }));\n    };\n\n    this.handleEditPlanet = id => {\n      this.setState(({\n        planets\n      }) => ({\n        selectedPlanet: planets.find(planet => planet.id === id),\n        editingPlanet: true\n      }));\n    };\n\n    this.handleEditSubmit = planet => {\n      config = {\n        headers: {\n          Authorization: \"Bearer \" + yourJWTToken\n        }\n      };\n      axios.put('https://localhost:5001/api/Planet', config).then(response => {\n        this.setState({\n          editingPlanet: false,\n          planets: [...this.state.planets.filter(p => p.id !== planet.planet.id), planet.planet],\n          selectedPlanet: planet.planet\n        });\n      }).catch(error => {\n        this.setState({\n          errors: error.response.data\n        });\n      });\n    };\n\n    this.handleAuthenticationSubmit = password => {\n      axios.put('https://localhost:5001/api/Authentication', {\n        Password: password.password\n      }).then(response => {\n        this.setState({\n          password: {},\n          jwt: response.data\n        });\n      }).catch(error => {\n        this.setState({\n          errors: error.response.data\n        });\n      });\n    };\n\n    this.handleErrorDialogClose = () => {\n      this.setState({\n        errors: []\n      });\n    };\n\n    this.handleAuthenticateDialogClose = () => {\n      this.setState({\n        authenticating: {}\n      });\n    };\n\n    this.state = {\n      planets: [],\n      isLoading: true,\n      errors: [],\n      selectedPlanet: {},\n      editingPlanet: false,\n      password: {},\n      jwt: {}\n    };\n  }\n\n  componentDidMount() {\n    this.getPlanets();\n  }\n\n  getPlanets() {\n    axios.get('https://localhost:5001/api/Planet').then(response => {\n      this.setState({\n        planets: response.data,\n        isLoading: false\n      });\n    }).catch(error => this.setState({\n      errors: error,\n      isLoading: false\n    }));\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Planets, {\n      selectedPlanet: this.state.selectedPlanet,\n      planets: this.state.planets,\n      onSelect: this.handlePlanetSelected,\n      onEdit: this.handleEditPlanet,\n      editingPlanet: this.state.editingPlanet,\n      onSubmit: this.handleEditSubmit,\n      errors: this.state.errors,\n      handleErrorDialogClose: this.handleErrorDialogClose,\n      handleAuthenticateDialogClose: this.handleAuthenticateDialogClose,\n      authenticating: this.state.authenticating,\n      onSubmitAuthentication: this.handleAuthenticationSubmit,\n      jwt: this.state.jwt,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["D:/Dropbox/work/dootrix/planets/Planets/Planets.Front/planets/src/Components/App.jsx"],"names":["React","Component","axios","Planets","ErrorDialog","constructor","props","handlePlanetSelected","id","setState","planets","selectedPlanet","find","planet","editingPlanet","handleEditPlanet","handleEditSubmit","config","headers","Authorization","yourJWTToken","put","then","response","state","filter","p","catch","error","errors","data","handleAuthenticationSubmit","password","Password","jwt","handleErrorDialogClose","handleAuthenticateDialogClose","authenticating","isLoading","componentDidMount","getPlanets","get","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Planets from './Planets';\r\nimport ErrorDialog from \"./Planets/ErrorDialog\";\r\n\r\nexport default class extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { planets: [], isLoading: true, errors: [], selectedPlanet: {}, editingPlanet: false, password: {}, jwt: {} };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getPlanets();\r\n  }\r\n\r\n  getPlanets(){\r\n    axios\r\n      .get('https://localhost:5001/api/Planet')\r\n      .then((response) => {\r\n        this.setState({\r\n          planets: response.data,\r\n          isLoading: false,\r\n        });\r\n      })\r\n      .catch((error) => this.setState({ errors: error, isLoading: false }));\r\n  }\r\n\r\n  handlePlanetSelected = id => {\r\n    this.setState(( { planets } ) => ({\r\n      selectedPlanet: planets.find(planet => planet.id === id),\r\n      editingPlanet: false\r\n    }))\r\n  }\r\n\r\n  handleEditPlanet = id => {\r\n    this.setState(( { planets } ) => ({\r\n      selectedPlanet: planets.find(planet => planet.id === id),\r\n      editingPlanet: true\r\n    }))\r\n  }\r\n\r\n  handleEditSubmit = planet => {\r\n    config = {\r\n      headers: {\r\n        Authorization: \"Bearer \" + yourJWTToken\r\n      }\r\n    }\r\n\r\n    axios\r\n        .put('https://localhost:5001/api/Planet', config)\r\n        .then((response) => {\r\n          this.setState({\r\n            editingPlanet: false,\r\n            planets: [...this.state.planets.filter(p => p.id !== planet.planet.id), planet.planet],\r\n            selectedPlanet: planet.planet\r\n          })\r\n        }).catch((error) => { this.setState({errors: error.response.data })});\r\n  }\r\n\r\n  handleAuthenticationSubmit = password => {\r\n    axios\r\n        .put('https://localhost:5001/api/Authentication', { Password : password.password } )\r\n        .then((response) => {\r\n          this.setState({\r\n            password: {},\r\n            jwt: response.data\r\n          })\r\n        }).catch((error) => { this.setState({errors: error.response.data })});\r\n  }\r\n\r\n  handleErrorDialogClose = () => {\r\n    this.setState({errors: []})\r\n  }\r\n\r\n  handleAuthenticateDialogClose = () => {\r\n    this.setState({ authenticating: {}})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Planets selectedPlanet={this.state.selectedPlanet} planets={this.state.planets}\r\n                 onSelect={this.handlePlanetSelected} onEdit={this.handleEditPlanet}\r\n                 editingPlanet={this.state.editingPlanet} onSubmit={this.handleEditSubmit}\r\n                  errors={this.state.errors} handleErrorDialogClose={this.handleErrorDialogClose}\r\n                 handleAuthenticateDialogClose={this.handleAuthenticateDialogClose} authenticating = {this.state.authenticating}\r\n                 onSubmitAuthentication={this.handleAuthenticationSubmit} jwt={this.state.jwt}/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}